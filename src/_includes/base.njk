<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ title or "The Insitorian" }}</title>
<link rel="icon" type="image/png" sizes="32x32" href="{{ rootPath }}favicon-32x32.png">
<link rel="apple-touch-icon" href="{{ rootPath }}monocle.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Literata:ital,opsz,wght@0,7..72,200..900;1,7..72,200..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  darkMode: 'class',
  theme: { extend: { fontFamily: {
    serif: ['Literata', 'Georgia', 'serif'],
    sans: ['"Source Sans 3"', 'system-ui', 'sans-serif'],
    logo: ['"Playfair Display"', 'Georgia', 'serif'],
  } } }
}
</script>
<script>
(function(){
  var s = localStorage.getItem('theme');
  if (s === 'dark' || (!s && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    document.documentElement.classList.add('dark');
  }
})();
</script>
{% block head %}{% endblock %}
</head>
<body class="bg-stone-50 dark:bg-stone-950 text-stone-800 dark:text-stone-200 font-serif leading-normal transition-colors">

<!-- Masthead -->
<header class="text-center pt-7 pb-[18px] border-b-4 border-double border-stone-300 dark:border-stone-700 relative">
  <button onclick="toggleTheme()" class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full border border-stone-300 dark:border-stone-600 text-stone-500 dark:text-stone-400 hover:bg-stone-200 dark:hover:bg-stone-800 transition-colors text-sm cursor-pointer" aria-label="Toggle theme">
    <span class="dark:hidden">&#x263E;</span>
    <span class="hidden dark:inline">&#x2600;</span>
  </button>
  <div class="max-w-[960px] mx-auto px-5">
    <div class="font-sans text-xs uppercase tracking-[.12em] text-stone-500 dark:text-stone-400 mb-1">Elections Special</div>
    <h1 class="font-logo text-[2.2rem] md:text-5xl font-bold tracking-normal mb-0.5">{% if isHome %}<img src="{{ rootPath }}monocle.png" alt="" class="inline h-[1.1em] align-[-0.15em]"> The Insitorian{% else %}<a href="{{ rootPath }}" class="hover:underline"><img src="{{ rootPath }}monocle.png" alt="" class="inline h-[1.1em] align-[-0.15em]"> The Insitorian</a>{% endif %}</h1>
    <div class="font-sans text-[.8rem] text-stone-500 dark:text-stone-400"><script>document.write(new Date().toLocaleDateString('en-GB',{weekday:'long',day:'numeric',month:'long',year:'numeric'}))</script> &middot; Prosperous Universe</div>
  </div>
</header>

{% block content %}{% endblock %}

<!-- Footer -->
<hr class="border-0 border-t border-stone-300 dark:border-stone-700 my-7">
<div class="text-center pt-5 pb-8 font-sans text-[.72rem] text-stone-500 dark:text-stone-400">The Insitorian &middot; by untech and raylu</div>

{% block scripts %}{% endblock %}

<script>
window.toggleTheme = function(){
  document.documentElement.classList.toggle('dark');
  localStorage.setItem('theme',
    document.documentElement.classList.contains('dark') ? 'dark' : 'light');
  {% block onThemeToggle %}{% endblock %}
};
</script>

</body>
</html>
